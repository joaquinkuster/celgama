<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clasificador de Celulares</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>
  <div class="phone-background">
    <div class="floating-phone"><i class="fas fa-mobile-alt"></i></div>
    <div class="floating-phone"><i class="fas fa-tablet-alt"></i></div>
    <div class="floating-phone"><i class="fas fa-mobile-alt"></i></div>
    <div class="floating-phone"><i class="fas fa-mobile-alt"></i></div>
    <div class="floating-phone"><i class="fas fa-tablet-alt"></i></div>
    <div class="floating-phone"><i class="fas fa-mobile-alt"></i></div>
  </div>

  <div class="container">
    <!-- Pantalla de inicio -->
    <div class="intro" id="introScreen">
      <h1 class="fade-in-up">¿Qué gama de celular necesitas?</h1>
      <p class="fade-in-up delay-1">Descubre el celular perfecto para ti</p>
      <button class="btn fade-in-up delay-2" id="startBtn">
        <i class="fas fa-play"></i> Comenzar
      </button>
    </div>

    <!-- Formulario -->
    <div class="form-container hidden" id="formScreen">
      <div class="progress-container">
        <div class="progress-bar-bg">
          <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="progress-steps" id="progressSteps"></div>
      </div>

      <form id="phoneForm">
        <!-- Paso 1: Procesador -->
        <div class="form-step active" id="step1">
          <div class="step-header">
            <div class="step-icon"><i class="fas fa-microchip"></i></div>
            <div>
              <h2>Procesador</h2>
              <p>Características del procesador</p>
            </div>
          </div>
          <div class="form-group">
            <label for="num_cores">Núcleos del procesador</label>
            <input type="number" id="num_cores" name="num_cores" min="1" max="16" required>
          </div>
          <div class="form-group">
            <label for="processor_speed">Velocidad (GHz)</label>
            <input type="number" id="processor_speed" name="processor_speed" step="0.1" min="1.0" max="4.0" required>
          </div>
          <div class="form-navigation">
            <button type="button" class="btn btn-secondary" disabled>Anterior</button>
            <button type="button" class="btn next-btn">Siguiente</button>
          </div>
        </div>

        <!-- Paso 2: Batería -->
        <div class="form-step" id="step2">
          <div class="step-header">
            <div class="step-icon"><i class="fas fa-battery-full"></i></div>
            <div>
              <h2>Batería</h2>
              <p>Capacidad y carga rápida</p>
            </div>
          </div>
          <div class="form-group">
            <label for="battery_capacity">Capacidad (mAh)</label>
            <input type="number" id="battery_capacity" name="battery_capacity" min="1000" max="10000" required>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="fast_charging_available" name="fast_charging_available" value="1">
            <label for="fast_charging_available">Carga rápida disponible</label>
          </div>
          <div class="form-navigation">
            <button type="button" class="btn btn-secondary prev-btn">Anterior</button>
            <button type="button" class="btn next-btn">Siguiente</button>
          </div>
        </div>

        <!-- Paso 3: Memoria -->
        <div class="form-step" id="step3">
          <div class="step-header">
            <div class="step-icon"><i class="fas fa-memory"></i></div>
            <div>
              <h2>Memoria</h2>
              <p>RAM y almacenamiento</p>
            </div>
          </div>
          <div class="form-group">
            <label for="ram_capacity">RAM (GB)</label>
            <input type="number" id="ram_capacity" name="ram_capacity" min="1" max="16" required>
          </div>
          <div class="form-group">
            <label for="internal_memory">Almacenamiento (GB)</label>
            <input type="number" id="internal_memory" name="internal_memory" min="8" max="1024" required>
          </div>
          <div class="form-navigation">
            <button type="button" class="btn btn-secondary prev-btn">Anterior</button>
            <button type="button" class="btn next-btn">Siguiente</button>
          </div>
        </div>

        <!-- Paso 4: Pantalla -->
        <div class="form-step" id="step4">
          <div class="step-header">
            <div class="step-icon"><i class="fas fa-mobile-alt"></i></div>
            <div>
              <h2>Pantalla</h2>
              <p>Tamaño y resolución</p>
            </div>
          </div>
          <div class="form-group">
            <label for="screen_size">Tamaño (pulgadas)</label>
            <input type="number" id="screen_size" name="screen_size" step="0.1" min="4.0" max="7.5" required>
          </div>
          <div class="form-group">
            <label for="resolution_width">Resolución horizontal (px)</label>
            <input type="number" id="resolution_width" name="resolution_width" min="720" max="3840" required>
          </div>
          <div class="form-group">
            <label for="resolution_height">Resolución vertical (px)</label>
            <input type="number" id="resolution_height" name="resolution_height" min="1280" max="2160" required>
          </div>
          <div class="form-navigation">
            <button type="button" class="btn btn-secondary prev-btn">Anterior</button>
            <button type="button" class="btn next-btn">Siguiente</button>
          </div>
        </div>

        <!-- Paso 5: Cámara -->
        <div class="form-step" id="step5">
          <div class="step-header">
            <div class="step-icon"><i class="fas fa-camera"></i></div>
            <div>
              <h2>Cámara</h2>
              <p>Especificaciones de cámara</p>
            </div>
          </div>
          <div class="form-group">
            <label for="num_rear_cameras">Cámaras traseras</label>
            <input type="number" id="num_rear_cameras" name="num_rear_cameras" min="1" max="5" required>
          </div>
          <div class="form-group">
            <label for="primary_camera_rear">Cámara principal (MP)</label>
            <input type="number" id="primary_camera_rear" name="primary_camera_rear" min="8" max="200" required>
          </div>
          <div class="form-group">
            <label for="primary_camera_front">Cámara frontal (MP)</label>
            <input type="number" id="primary_camera_front" name="primary_camera_front" min="5" max="50" required>
          </div>
          <div class="form-navigation">
            <button type="button" class="btn btn-secondary prev-btn">Anterior</button>
            <button type="button" class="btn next-btn">Siguiente</button>
          </div>
        </div>

        <!-- Paso 6: Precio -->
        <div class="form-step" id="step6">
          <div class="step-header">
            <div class="step-icon"><i class="fas fa-dollar-sign"></i></div>
            <div>
              <h2>Precio</h2>
              <p>Precio estimado del dispositivo</p>
            </div>
          </div>
          <div class="form-group">
            <label for="price">Precio (USD)</label>
            <input type="number" id="price" name="price" min="50" required>
          </div>
          <div class="form-navigation">
            <button type="button" class="btn btn-secondary prev-btn">Anterior</button>
            <button type="submit" class="btn" id="submitBtn">
              <i class="fas fa-chart-bar"></i> Ver resultado
            </button>
          </div>
        </div>
      </form>
    </div>

    <!-- Resultados -->
    <div class="result-container hidden" id="resultScreen">
      <div class="result-icon"><i class="fas fa-mobile-alt"></i></div>
      <h1 class="result-title" id="resultGama">Gama Media</h1>
      <p class="result-subtitle">Basado en tus características</p>

      <div class="result-card">
        <h3>Características promedio de esta gama</h3>
        <ul class="features-list" id="featuresList"></ul>
      </div>

      <div class="chart-container">
        <h3>Comparación con tu gama (Diferencias relativas)</h3>
        <canvas id="chartDifRel"></canvas>
      </div>

      <div class="chart-container">
        <h3>Dispersión </h3>
        <canvas id="chartScatter"></canvas>
      </div>

      <div class="chart-container">
        <h3>Distribución de gamas</h3>
        <canvas id="chartDistribution"></canvas>
      </div>

      <div class="explanation">
        <h3>¿Por qué esta gama?</h3>
        <p>Basándonos en el análisis de <strong id="totalDispositivos">0</strong> dispositivos, tu celular se clasifica
          en la <strong id="explanationGama">Media</strong>.</p>
        <p>Los factores más determinantes fueron: <strong id="keyFactors">-</strong>.</p>
      </div>

      <button type="button" class="btn" id="restartBtn">
        <i class="fas fa-redo"></i> Nueva evaluación
      </button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>

</html>